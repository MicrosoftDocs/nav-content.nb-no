---
title: "Planlegge jobber til å kjøre automatisk"
description: "Planlagte aktiviteter administreres av jobbkøen. Disse jobbene kjører rapporter og kodeenheter. Du kan angi at jobbene skal kjøre én gang, eller gjentas flere ganger."
author: edupont04
ms.prod: dynamics-nav-2018
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 09/01/2017
ms.author: edupont
ms.translationtype: HT
ms.sourcegitcommit: 1dfba8b14019991c95f40ffd5f7fbaed5df414eb
ms.openlocfilehash: 86d23ee8f658bb31fa1eceb438bbe78774185c73
ms.contentlocale: nb-no
ms.lasthandoff: 12/01/2017

---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="5c15c-105">Bruke jobbkøer til å planlegge oppgaver</span><span class="sxs-lookup"><span data-stu-id="5c15c-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="5c15c-106">Med jobbkøer i [!INCLUDE[d365fin](includes/d365fin_md.md)] kan brukere planlegge og kjøre bestemte rapporter og kodeenheter.</span><span class="sxs-lookup"><span data-stu-id="5c15c-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="5c15c-107">Du kan angi at jobbene skal kjøre én gang, eller gjentas flere ganger.</span><span class="sxs-lookup"><span data-stu-id="5c15c-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="5c15c-108">Det kan for eksempel være at du vil kjøre rapporten **Selger - salgsstatistikk** ukentlig for å spore salg etter selger hver uke, eller du vil kanskje kjøre kodeenheten **Behandle e-postkø - service** daglig, for å sørge for at ventende e-postmeldinger angående serviceordrer sendes ut til kundene i rett tid.</span><span class="sxs-lookup"><span data-stu-id="5c15c-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>  

## <a name="add-jobs-to-the-job-queue"></a><span data-ttu-id="5c15c-109">Legge til jobber i jobbkøen</span><span class="sxs-lookup"><span data-stu-id="5c15c-109">Add Jobs to the Job Queue</span></span>
<span data-ttu-id="5c15c-110">Vinduet **Poster i jobbkø** viser alle eksisterende jobber.</span><span class="sxs-lookup"><span data-stu-id="5c15c-110">The **Job Queue Entries** window lists all existing jobs.</span></span> <span data-ttu-id="5c15c-111">Hvis du vil legge til en jobbkøpost du vil planlegge, må du angi informasjon om objekttypen du vil kjøre, for eksempel en rapport eller kodeenhet, og navnet og objekt-IDen for objektet du vil kjøre.</span><span class="sxs-lookup"><span data-stu-id="5c15c-111">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="5c15c-112">Du kan også legge til parametere for å spesifisere hva jobbkøposten skal gjøre.</span><span class="sxs-lookup"><span data-stu-id="5c15c-112">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="5c15c-113">Du kan for eksempel legge til en parameter for å sende bare bokførte ordrer.</span><span class="sxs-lookup"><span data-stu-id="5c15c-113">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="5c15c-114">Du må ha tillatelse til å kjøre den aktuelle rapporten eller kodeenheten, ellers vises det en feilmelding når jobbkøen kjøres.</span><span class="sxs-lookup"><span data-stu-id="5c15c-114">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="5c15c-115">Hvis du vil, kan du angi et filter i feltet **Filter for jobbkøkategori**.</span><span class="sxs-lookup"><span data-stu-id="5c15c-115">Optionally, you can set a filter in the **Job Queue Category Filter** field.</span></span> <span data-ttu-id="5c15c-116">Jobbkøkategorier kan brukes til å gruppere jobber i oversikten.</span><span class="sxs-lookup"><span data-stu-id="5c15c-116">Job queue categories can be used to group jobs in the list.</span></span>

[!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="5c15c-117"> kjører jobbene automatisk i henhold til angitte de tidsplanene for hver jobbkøpost.</span><span class="sxs-lookup"><span data-stu-id="5c15c-117"> automatically runs the jobs according to the specified schedules for each job queue entry.</span></span> <span data-ttu-id="5c15c-118">Du kan også starte, stoppe og sette en jobbkøpost på vent manuelt.</span><span class="sxs-lookup"><span data-stu-id="5c15c-118">You can also start, stop, and put a job queue entry on hold manually.</span></span>

### <a name="log-files"></a><span data-ttu-id="5c15c-119">Loggfiler</span><span class="sxs-lookup"><span data-stu-id="5c15c-119">Log Files</span></span>
<span data-ttu-id="5c15c-120">Feilmeldinger vises i vinduet **Loggposter for jobbkø**, som du får tilgang til fra båndet.</span><span class="sxs-lookup"><span data-stu-id="5c15c-120">Errors are listed in the **Job Queue Log Entries** window that you can access from the ribbon.</span></span> <span data-ttu-id="5c15c-121">Du kan også feilsøke jobbkøfeil.</span><span class="sxs-lookup"><span data-stu-id="5c15c-121">You can also troubleshoot job queue errors.</span></span> <span data-ttu-id="5c15c-122">Data som genereres ved kjøring av en jobbkø, lagres i databasen.</span><span class="sxs-lookup"><span data-stu-id="5c15c-122">Data that is generated when a job queue is run is stored in the database.</span></span>  

### <a name="background-posting-with-job-queues"></a><span data-ttu-id="5c15c-123">Bakgrunnsbokføring med jobbkøer</span><span class="sxs-lookup"><span data-stu-id="5c15c-123">Background Posting with Job Queues</span></span>
<span data-ttu-id="5c15c-124">Jobbkøer er et effektivt verktøy for å planlegge kjøringen av forretningsprosesser i bakgrunnen.</span><span class="sxs-lookup"><span data-stu-id="5c15c-124">Job queues are an effective tool to schedule the running of business processes in the background.</span></span> <span data-ttu-id="5c15c-125">Det kan for eksempel være en forekomst der flere brukere prøver å bokføre ordrer samtidig, men bare én ordre kan behandles om gangen.</span><span class="sxs-lookup"><span data-stu-id="5c15c-125">For example, there may be an instance in which multiple users are trying to post sales orders at the same time, but only one order can be processed at a time.</span></span> <span data-ttu-id="5c15c-126">Ved å sette opp en bakgrunnsbokføringsrutine kan du plassere bokføringer i en kø for behandling i bakgrunnen.</span><span class="sxs-lookup"><span data-stu-id="5c15c-126">By setting up a background posting routine, you can place the postings in a queue for processing in the background.</span></span>  

 <span data-ttu-id="5c15c-127">Du kan også planlegge bokføringer for timer når det passer for din organisasjon.</span><span class="sxs-lookup"><span data-stu-id="5c15c-127">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="5c15c-128">I din virksomhet kan det for eksempel være fornuftig å kjøre visse rutiner etter at det meste av dagens dataregistrering er gjort.</span><span class="sxs-lookup"><span data-stu-id="5c15c-128">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="5c15c-129">Du kan oppnå dette ved å angi at jobbkøen skal kjøre ulike massebokføringspostrapporter, for eksempel rapportene **Salgsfakturaer - massebokfør**, **Salgskr.notaer - massebokfør** og **Salgskr.notaer - massebokfør**.</span><span class="sxs-lookup"><span data-stu-id="5c15c-129">You can achieve this by setting the job queue up to run various batch post reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, and **Batch Post Sales Credit Memos** reports.</span></span>  

 [!INCLUDE[d365fin](includes/d365fin_md.md)]<span data-ttu-id="5c15c-130"> støtter bakgrunnsbokføring for følgende dokumenttyper:</span><span class="sxs-lookup"><span data-stu-id="5c15c-130"> supports background posting for the following document types:</span></span>  

-   <span data-ttu-id="5c15c-131">Salg: ordre, ordreretur, kreditnota, faktura</span><span class="sxs-lookup"><span data-stu-id="5c15c-131">Sales: sales order, return order, credit memo, invoice</span></span>  

-   <span data-ttu-id="5c15c-132">Innkjøp: bestilling, bestillingsretur, kreditnota, faktura</span><span class="sxs-lookup"><span data-stu-id="5c15c-132">Purchases: purchase order, return order, credit memo, invoice</span></span>  

 <span data-ttu-id="5c15c-133">Hvis jobbkøen ikke kan bokføre ordren, endres statusen til **Feil**, og ordren legges til i listen over ordrer som brukeren må håndtere.</span><span class="sxs-lookup"><span data-stu-id="5c15c-133">If the job queue cannot post the sales order, the status is changed to **Error**, and the sales order is added to the list of sales orders that the user will have to handle.</span></span>  

> [!NOTE]  
>  <span data-ttu-id="5c15c-134">Når du planlegger et dokument for bokføring, og bokføringsprosessen begynner, konfigureres bokføringsrutinen automatisk til tidsavbrudd innen to timer hvis bokføringsrutinen av en eller annen grunn slutter å svare.</span><span class="sxs-lookup"><span data-stu-id="5c15c-134">When you schedule a document for posting and the posting process begins, the posting routine is automatically configured to time out within two hours if the posting routine stops responding for any reason.</span></span>  

<span data-ttu-id="5c15c-135">Du konfigurere denne bruken av jobbkøen i henholdsvis vinduet **Salgsoppsett** eller **Kjøp**.</span><span class="sxs-lookup"><span data-stu-id="5c15c-135">You set up this use of the job queue in the **Sales & Receivables Setup** window or the **Purchases & Payables** window, respectively.</span></span> <span data-ttu-id="5c15c-136">På hurtigfanen **Bakgrunnsbokføring** merker du av for **Bokfør dokumenter via jobbkøen**, og deretter fyller du ut de aktuelle opplysningene.</span><span class="sxs-lookup"><span data-stu-id="5c15c-136">On the **Background Posting** FastTab, you choose the **Post Documents via Job Queue** check box and then fill in the relevant information.</span></span> <span data-ttu-id="5c15c-137">Her kan du også bruke feltet **Kategorikode for jobbkø** til å kjøre alle køposter med denne koden.</span><span class="sxs-lookup"><span data-stu-id="5c15c-137">Here you can also use the **Job Queue Category Code** field to run all job queue entries with that code.</span></span> <span data-ttu-id="5c15c-138">Du kan for eksempel bruke en **Salgsbokf**-kategori som filtrerer etter alle ordrer som samsvarer med en jobbkø som har samme kategorikode.</span><span class="sxs-lookup"><span data-stu-id="5c15c-138">For example, you can use  a **SalesPost** category that filters to all sales orders that match any job queue that has the same category code.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="5c15c-139">Hvis du konfigurerer en jobb som bokfører og skriver ut dokumenter, og skriveren viser en dialogboks, for eksempel en forespørsel om legitimasjon eller en advarsel om lavt skriverblekk, blir dokumentet bokført, men ikke skrevet ut.</span><span class="sxs-lookup"><span data-stu-id="5c15c-139">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="5c15c-140">Den tilsvarende jobbkøposten blir til slutt tidsavbrutt, og  **Status**    -feltet settes til  **Feil**.</span><span class="sxs-lookup"><span data-stu-id="5c15c-140">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="5c15c-141">Vi anbefaler derfor at du ikke bruker et skriveroppsett som krever samhandling med visningen av dialogbokser for skriveren i forbindelse med bakgrunnsbokføring.</span><span class="sxs-lookup"><span data-stu-id="5c15c-141">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>  

## <a name="use-the-my-job-queue-part"></a><span data-ttu-id="5c15c-142">Bruke delen Min jobbkø</span><span class="sxs-lookup"><span data-stu-id="5c15c-142">Use the My Job Queue Part</span></span>
<span data-ttu-id="5c15c-143">Delen **Min jobbkø** viser jobbkøpostene som en bruker har startet, men som ennå ikke er fullført.</span><span class="sxs-lookup"><span data-stu-id="5c15c-143">The **My Job Queue** part shows the job queues entries that a user has started, but which are not yet finished.</span></span> <span data-ttu-id="5c15c-144">Som standard er delen ikke synlig, så du må legge den til i rollesenteret.</span><span class="sxs-lookup"><span data-stu-id="5c15c-144">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="5c15c-145">Hvis du vil ha mer informasjon, kan du se [Endre rollesentre](change-role.md).</span><span class="sxs-lookup"><span data-stu-id="5c15c-145">For more information, see [How to: Change Role Centers](change-role.md).</span></span>  

<span data-ttu-id="5c15c-146">I denne delen kan du se dokumentene som behandles eller er lagt i kø, og som IDen din er angitt for i feltet **Tilordnet bruker-ID**.</span><span class="sxs-lookup"><span data-stu-id="5c15c-146">In this part, you can see those documents that are being processed or that are queued for which your ID is specified in the **Assigned User ID** field.</span></span> <span data-ttu-id="5c15c-147">Delen hjelper deg med å holde oversikt over alle jobbkøposter, inkludert de som er relatert til bakgrunnsbokføring.</span><span class="sxs-lookup"><span data-stu-id="5c15c-147">The part helps you keep track of all job queue entries, including those related to background posting.</span></span> <span data-ttu-id="5c15c-148">Delen kan på et øyeblikk fortelle deg om det har oppstått en feil i posteringen av et dokument, eller om det er feil i en jobbkøpost.</span><span class="sxs-lookup"><span data-stu-id="5c15c-148">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="5c15c-149">Delen gjør det også mulig å avbryte en dokumentpostering hvis den ikke kjører.</span><span class="sxs-lookup"><span data-stu-id="5c15c-149">The part also lets you cancel a document posting if it is not running.</span></span>  

## <a name="security"></a><span data-ttu-id="5c15c-150">Sikkerhet</span><span class="sxs-lookup"><span data-stu-id="5c15c-150">Security</span></span>  
<span data-ttu-id="5c15c-151">Jobbkøposter kjører basert på tillatelser.</span><span class="sxs-lookup"><span data-stu-id="5c15c-151">Job queue entries run based on permissions.</span></span> <span data-ttu-id="5c15c-152">Disse tillatelsene må tillate kjøring av rapporten eller kodeenheten.</span><span class="sxs-lookup"><span data-stu-id="5c15c-152">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="5c15c-153">Når en jobbkø aktiveres automatisk, kjører den med legitimasjonen for brukeren.</span><span class="sxs-lookup"><span data-stu-id="5c15c-153">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="5c15c-154">Når en jobbkø aktiveres som en plalagt oppgave, kjører den med legitimasjon for serverforekomsten.</span><span class="sxs-lookup"><span data-stu-id="5c15c-154">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="5c15c-155">Når en jobb kjøres, kjører den med legitimasjon for jobbkøen som aktiverer den.</span><span class="sxs-lookup"><span data-stu-id="5c15c-155">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="5c15c-156">Brukeren som opprettet denne jobbkøposten, må imidlertid også ha tillatelser.</span><span class="sxs-lookup"><span data-stu-id="5c15c-156">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="5c15c-157">Når en jobb er "Kjør i brukerøkt" (for eksempel under bakgrunnsbokføring), kjører den med legitimasjonen til brukeren som opprettet jobben.</span><span class="sxs-lookup"><span data-stu-id="5c15c-157">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="5c15c-158">Hvis du bruker SUPER-tillatelsessettet som følger med [!INCLUDE[d365fin](includes/d365fin_md.md)], har du og brukerne tillatelse til å kjøre alle objektene.</span><span class="sxs-lookup"><span data-stu-id="5c15c-158">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="5c15c-159">I dette tilfellet er tilgang for hver bruker bare begrenset av tillatelser til data.</span><span class="sxs-lookup"><span data-stu-id="5c15c-159">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="5c15c-160">Bruke jobbkøer effektivt</span><span class="sxs-lookup"><span data-stu-id="5c15c-160">Using Job Queues Effectively</span></span>  
<span data-ttu-id="5c15c-161">Jobbkøposten inneholder mange felt som har som formål å sende parametere til en kodeenhet som du har angitt for kjøring sammen med en jobbkø.</span><span class="sxs-lookup"><span data-stu-id="5c15c-161">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="5c15c-162">Dette betyr også at kodeenheter som skal kjøres via jobbkøen må angis med prosjektkøposten som en parameter i **OnRun**-utløseren.</span><span class="sxs-lookup"><span data-stu-id="5c15c-162">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="5c15c-163">Dette gir et ekstra lag av sikkerhet, siden det forhindrer brukere fra å kjøre tilfeldige kodeenheter via jobbkøen.</span><span class="sxs-lookup"><span data-stu-id="5c15c-163">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="5c15c-164">Hvis brukeren må sende parametere til en rapport, kan dette bare gjøres ved å wrappe rapportutførelsen i en kodeenhet, som deretter analyserer inndataparameterne og setter dem inn i rapporten før den utfører den.</span><span class="sxs-lookup"><span data-stu-id="5c15c-164">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="5c15c-165">Se også</span><span class="sxs-lookup"><span data-stu-id="5c15c-165">See Also</span></span>  
[<span data-ttu-id="5c15c-166">Oppsett og administrasjon i Dynamics NAV</span><span class="sxs-lookup"><span data-stu-id="5c15c-166">Setup and Administration in Dynamics NAV</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="5c15c-167">Konfigurere Dynamics NAV</span><span class="sxs-lookup"><span data-stu-id="5c15c-167">Setting Up Dynamics NAV</span></span>](setup.md)  

